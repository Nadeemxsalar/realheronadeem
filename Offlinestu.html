<!-- PLACE THIS MODIFIED FINAL HTML FILE -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StudyMate - Stay & Study</title>
  <style>
    /* Existing styles preserved */
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
    body {
      background: linear-gradient(120deg, #e0c3fc, #8ec5fc);
      color: #222;
      padding: 20px;
      transition: background 0.3s ease;
    }
    body.dark { background: #121212; color: #eee; }

    header, nav { display: flex; justify-content: space-between; align-items: center; }
    nav { margin: 10px 0 20px; }
    nav a { text-decoration: none; color: inherit; margin-right: 15px; font-weight: bold; }

    h1 { font-size: 2rem; }
    #themeToggle {
      background: #fff; border: none; font-size: 1.2rem;
      cursor: pointer; padding: 10px; border-radius: 50%;
    }

    .marquee {
      background: rgba(0, 0, 0, 0.1); padding: 8px;
      margin-bottom: 10px; font-weight: bold;
      color: #222; border-radius: 8px;
    }

    .quote {
      font-style: italic; text-align: center;
      margin: 10px 0; font-size: 1.1rem;
    }

    .greeting {
      text-align: center;
      font-weight: bold;
      margin: 15px 0;
      font-size: 1.3rem;
    }

    .search input {
      width: 100%; padding: 12px; margin: 10px 0;
      border: none; border-radius: 12px; font-size: 1rem;
    }

    .subjects {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      padding: 20px; border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h2 { margin-bottom: 10px; }
    .card button {
      margin: 5px 5px 0 0; padding: 10px 14px;
      border: none; border-radius: 10px;
      cursor: pointer; background: #fff; font-weight: bold;
    }

    .status {
      display: inline-block; padding: 5px 10px;
      border-radius: 20px; font-size: 12px;
      font-weight: bold; margin-top: 10px;
    }

    .done { background-color: #8ef5a6; color: #065f46; }
    .pending { background-color: #fca5a5; color: #7f1d1d; }

    .floating-help {
      position: fixed; bottom: 20px; right: 20px;
      background: #00bcd4; color: white;
      padding: 12px 16px; border-radius: 50%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      cursor: pointer; font-size: 20px;
      z-index: 1000;
    }

    footer { text-align: center; margin-top: 40px; font-size: 14px; }

    .admin-panel {
      background: rgba(255,255,255,0.2);
      padding: 15px;
      margin-top: 40px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .admin-panel input {
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      border-radius: 8px;
      border: none;
    }

    .admin-panel button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      background: #222;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>üìö StudyMate</h1>
    <button id="themeToggle">üåô</button>
  </header>

  <div class="marquee">
    <marquee scrollamount="5">üî• Keep going! You‚Äôre doing great ‚Äì mark subjects as done and earn üéØ points!</marquee>
  </div>

  <nav>
    <a href="#">Home</a>
    <a href="#">Subjects</a>
    <a href="#">Progress</a>
  </nav>

  <div class="greeting" id="greetingText">Welcome...</div>
  <div class="quote" id="quoteBox">‚ÄúLoading inspirational quote...‚Äù</div>

  <section class="search">
    <input type="text" id="searchBar" placeholder="Search subjects, topics..." />
  </section>

  <section class="subjects" id="subjectContainer"></section>

  <!-- Admin Panel (AFTER the original subjects) -->
  <div class="admin-panel">
    <h3>Add New Subject (Admin Only)</h3>
    <input type="text" id="subjectName" placeholder="Enter Subject Name" />
    <input type="text" id="pdfLink" placeholder="Enter PDF URL" />
    <input type="password" id="adminPass" placeholder="Enter Admin Password" />
    <button onclick="addNewSubject()">‚ûï Add Subject</button>
  </div>

  <div class="floating-help" onclick="alert('Need help? Contact: admin@studymate.com')">‚ùî</div>

  <footer>
    <p>¬© 2025 StudyMate | Your score: <span id="score">0</span> üéØ</p>
  </footer>

  <script>
    const subjects = [
      { name: "Mathematics", pdf: "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf", id: "math" },
      { name: "Computer Science", pdf: "https://www.africau.edu/images/default/sample.pdf", id: "cs" },
      { name: "English", pdf: "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf", id: "eng" },
      { name: "Operating System", pdf: "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf", id: "os" },
      { name: "Data Structures", pdf: "https://file-examples-com.github.io/uploads/2017/10/file-sample_150kB.pdf", id: "ds" }
    ];

    const adminPassword = "nadeem123";
    let score = parseInt(localStorage.getItem("score") || 0);
    const storedSubjects = JSON.parse(localStorage.getItem("subjects") || "[]");
    const container = document.getElementById("subjectContainer");

    function renderSubjectCard(subject) {
      const status = localStorage.getItem(subject.id) === "done" ? "done" : "pending";
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <h2>${subject.name}</h2>
        <button onclick="download('${subject.pdf}')">üì• Download</button>
        <button onclick="markDone('${subject.id}', this)">‚úÖ Mark as Done</button>
        <div class="status ${status}">${status === "done" ? "Completed üîµ" : "Pending üî¥"}</div>
      `;
      container.appendChild(card);
    }

    function renderAllSubjects() {
      container.innerHTML = "";
      subjects.forEach(renderSubjectCard);
      storedSubjects.forEach(renderSubjectCard);
    }

    function download(link) {
      window.open(link, '_blank');
    }

    function markDone(id, btn) {
      if (localStorage.getItem(id) !== "done") {
        localStorage.setItem(id, "done");
        score += 10;
        localStorage.setItem("score", score);
        document.getElementById("score").innerText = score;
      }
      const statusEl = btn.parentElement.querySelector(".status");
      statusEl.textContent = "Completed üîµ";
      statusEl.className = "status done";
    }

    function addNewSubject() {
      const name = document.getElementById("subjectName").value.trim();
      const pdf = document.getElementById("pdfLink").value.trim();
      const pass = document.getElementById("adminPass").value;

      if (pass !== adminPassword) return alert("‚ùå Incorrect password!");
      if (!name || !pdf) return alert("‚ùó Please fill all fields!");

      const newSubject = { name, pdf, id: name.toLowerCase().replace(/\s+/g, '-') };
      storedSubjects.push(newSubject);
      localStorage.setItem("subjects", JSON.stringify(storedSubjects));

      document.getElementById("subjectName").value = "";
      document.getElementById("pdfLink").value = "";
      document.getElementById("adminPass").value = "";

      renderAllSubjects();
    }

    document.getElementById("searchBar").addEventListener("input", function () {
      const keyword = this.value.toLowerCase();
      document.querySelectorAll(".card").forEach(card => {
        card.style.display = card.innerText.toLowerCase().includes(keyword) ? "block" : "none";
      });
    });

    document.getElementById("themeToggle").addEventListener("click", () => {
      document.body.classList.toggle("dark");
    });

    const quotes = [
      "‚ÄúPush yourself, because no one else is going to do it for you.‚Äù",
      "‚ÄúSuccess doesn‚Äôt just find you. You have to go out and get it.‚Äù",
      "‚ÄúGreat things never come from comfort zones.‚Äù",
      "‚ÄúDon‚Äôt wish for it. Work for it.‚Äù",
      "‚ÄúDream it. Believe it. Build it.‚Äù"
    ];
    document.getElementById("quoteBox").innerText =
      quotes[Math.floor(Math.random() * quotes.length)];

    const hours = new Date().getHours();
    let greet = "Welcome!";
    if (hours < 12) greet = "üåû Good Morning!";
    else if (hours < 18) greet = "üå§Ô∏è Good Afternoon!";
    else greet = "üåô Good Evening!";
    document.getElementById("greetingText").innerText = greet;

    document.getElementById("score").innerText = score;

    renderAllSubjects();
  </script>
</body>
</html>
