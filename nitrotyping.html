<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Future Typing Verse</title>
  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      height:100vh; display:flex; flex-direction:column;
      align-items:center; justify-content:flex-start;
      background: linear-gradient(135deg, #0d324d, #7f5a83);
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      overflow-x: hidden;
      transition: background 0.4s ease;
    }

    h1 {
      margin:20px 0; font-size:2.8rem;
      text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }

    .controls, .stats {
      display:flex; flex-wrap:wrap;
      justify-content:center; gap:15px; margin:10px;
    }

    button, select {
      padding:10px 15px; border:none;
      border-radius:8px; cursor:pointer;
      background: rgba(255,255,255,0.2);
      color:#fff; backdrop-filter: blur(10px);
      transition:0.3s;
    }
    button:hover, select:hover {
      background: rgba(255,255,255,0.3);
    }

    .paragraph-box {
      width:90%; max-width:800px;
      background: rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.2);
      border-radius:20px; padding:20px;
      margin:15px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      backdrop-filter: blur(8px);
      transition:0.3s;
      line-height:1.6; font-size:1.2rem;
      min-height:120px;
    }

    .paragraph-box span.highlight {
      background: rgba(255,255,0,0.8);
      color:#000;
      padding:4px 6px; border-radius:4px;
      animation: glow 1s ease infinite alternate;
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px rgba(255,255,0,0.7); }
      to { box-shadow: 0 0 15px rgba(255,255,0,1); }
    }

    input {
      width:90%; max-width:500px;
      padding:12px 15px;
      border:none; border-radius:8px;
      outline:none;
      background: rgba(255,255,255,0.1);
      color:#fff;
      backdrop-filter: blur(5px);
      font-size:1rem;
      letter-spacing:1px;
      transition:0.3s;
    }
    input:focus {
      background: rgba(255,255,255,0.2);
    }

    .stats div {
      padding:12px 20px;
      border-radius:8px; font-weight:500;
      background: rgba(255,255,255,0.1);
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
      backdrop-filter: blur(5px);
      min-width:100px; text-align:center;
    }

    .timer-bar {
      width:90%; max-width:800px; height:8px;
      background: rgba(255,255,255,0.2);
      border-radius:4px; margin-bottom:10px;
    }

    .timer-fill {
      height:100%; background:#76e2f0; width:100%;
      border-radius:4px; transition:width 1s linear;
    }

    @media(max-width:600px){
      h1 { font-size:2rem; }
      input { font-size:0.9rem; }
      .paragraph-box { font-size:1rem; }
    }

    /* DARK MODE STYLES */
    body.dark {
      background: linear-gradient(135deg, #121212, #333);
      color: #fff;
    }
    body.dark .paragraph-box,
    body.dark .stats div,
    body.dark button,
    body.dark select,
    body.dark input {
      background: rgba(255, 255, 255, 0.05);
      color: #fff;
      border-color: rgba(255, 255, 255, 0.2);
    }
    body.dark input:focus {
      background: rgba(255,255,255,0.1);
    }
  </style>
</head>
<body>

  <h1>üöÄ Future Typing Verse</h1>
  <div class="controls">
    <select id="difficulty">
      <option value="easy">üü¢ Easy</option>
      <option value="medium">üü° Medium</option>
      <option value="hard">üî¥ Hard</option>
    </select>
    <button onclick="toggleDark()">üåó Theme</button>
    <button onclick="pauseResume()">‚èØ Pause</button>
    <button onclick="resetGame()">üîÑ Restart</button>
  </div>

  <div class="timer-bar"><div class="timer-fill" id="timerFill"></div></div>
  <div class="paragraph-box" id="para">Loading...</div>
  <input id="input" placeholder="Start typing..." autocomplete="off"/>

  <div class="stats">
    <div>üïí <span id="timer">60</span>s</div>
    <div>üìà WPM: <span id="wpm">0</span></div>
    <div>üéØ Acc: <span id="acc">100%</span></div>
    <div>üíØ Score: <span id="score">0</span></div>
    <div>üèÜ Best: <span id="best">0</span></div>
  </div>

  <script>
    const paragraphs = {
      easy: [
        "Zindagi ek safar hai jo kabhi seedhi raahon se to kabhi uljhe modon se guzar kar humein naye tajurbe sikhaati hai",
        "Har din ek nayi umeed ek nayi koshish ka paighaam laata hai. Kamiyabi sirf manzil tak pahunchne ka naam nahi balki us raaste mein ki gayi mehnat seekh aur hausle ka naam hai",
        "Jo log mushkil waqt mein bhi muskurana jaante hain, wahi asal mein zindagi jeena jaante hain. Isiliye hamesha khud par vishwas rakho aur har chunauti ko ek mauka samajhkar aage badho"
      ],
      medium: [
        "Mehnat kabhi zaya nahi jaati. Jo log sapne dekhte hain aur un sapno ko pura karne ke liye din-raat mehnat karte hain",
        "wahi log ek din kamiyabi ki bulandiyon ko chhoote hain. Har girna ek seekh hoti hai aur har nayi koshish ek nayi umeed. Zindagi mein kabhi haar mat maano kyunki har andhera ek naye savere ka paighaam hota hai"
      ],
      hard: [
        "Dosti ek aisa rishta hai jo na khoon se banta hai na kisi shart se. Ye dil se banta hai bharose se chalta hai aur yaadon mein jeeta hai. Saccha dost woh hota hai jo har musibat mein aapke saath ho ‚Äì na sirf hansne ke pal mein balki aansuon mein bhi. Dosti zindagi ka sabse pyaara tohfa hai jise sambhal ke rakhna chahiye",
        "Samay sabse bada guru hota hai. Jo samay ka sadupyog karta hai wo har kshetra mein safal hota hai. Beeta hua samay kabhi wapas nahi aata isliye hamesha har pal ka moolya samajhna chahiye. Samay ki kadar na karne wale log jeevan mein pachtate hain. Isiliye har roz ek nayi shuruaat samajhkar jeena chahiye."
      ]
    };

    const inputEl = document.getElementById('input');
    const paraEl = document.getElementById('para');
    const timerEl = document.getElementById('timer');
    const wpmEl = document.getElementById('wpm');
    const accEl = document.getElementById('acc');
    const scoreEl = document.getElementById('score');
    const bestEl = document.getElementById('best');
    const timerFill = document.getElementById('timerFill');
    const diffSel = document.getElementById('difficulty');

    let list = [], idx = 0, words = [], ci = 0;
    let startTime, interval, paused = false;
    let typed = 0, correct = 0, score = 0, best = 0;
    const DURATION = 60;

    function shuffle(a) {
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function loadList() {
      list = shuffle([...paragraphs[diffSel.value]]);
      idx = 0;
    }

    function loadParagraph() {
      if (idx >= list.length) {
        loadList();
      }
      words = list[idx].split(' ');
      ci = 0;
      inputEl.value = '';
      paraEl.innerHTML = words.map((w, i) => `<span id="w${i}">${w}</span>`).join(' ');
      highlightWord();
    }

    function highlightWord() {
      paraEl.querySelectorAll('span').forEach(el => el.classList.remove('highlight'));
      const cur = document.getElementById('w' + ci);
      if (cur) cur.classList.add('highlight');
    }

    function updateStats() {
      const elapsed = (Date.now() - startTime) / 1000;
      const rem = Math.max(0, DURATION - Math.floor(elapsed));
      timerEl.textContent = rem;
      timerFill.style.width = ((rem / DURATION) * 100) + '%';

      if (rem <= 0) {
        endGame(); return;
      }

      const acc = typed ? Math.round(correct / typed * 100) : 100;
      const wpm = Math.round(correct / elapsed * 60);

      accEl.textContent = acc + '%';
      wpmEl.textContent = isNaN(wpm) ? 0 : wpm;
      scoreEl.textContent = score;
    }

    function startTimer() {
      startTime = Date.now();
      interval = setInterval(updateStats, 1000);
    }

    function endGame() {
      clearInterval(interval);
      inputEl.disabled = true;
      best = +localStorage.best || 0;
      if (score > best) {
        localStorage.best = score;
        bestEl.textContent = score;
      }
      paraEl.innerHTML += "<br><strong>‚åõ Time's up!</strong>";
    }

    function startGame() {
      clearInterval(interval);
      paused = false;
      typed = correct = score = 0;
      best = +localStorage.best || 0;
      bestEl.textContent = best;
      loadList();
      loadParagraph();
      inputEl.disabled = false;
      inputEl.focus();
      startTimer();
    }

    inputEl.addEventListener('input', e => {
      if (paused) return;
      const v = e.target.value;
      if (v.endsWith(' ')) {
        typed++;
        if (v.trim() === words[ci]) {
          correct++;
          score += 10;
        }
        ci++;
        if (ci >= words.length) {
          idx++;
          loadParagraph();
        } else highlightWord();
        e.target.value = '';
        updateStats();
      }
    });

    function pauseResume() {
      paused = !paused;
      if (paused) {
        clearInterval(interval);
        paraEl.innerHTML += "<br><em>‚è∏ Paused</em>";
      } else {
        const rem = +timerEl.textContent;
        startTime = Date.now() - (DURATION - rem) * 1000;
        interval = setInterval(updateStats, 1000);
        highlightWord();
      }
    }

    function resetGame() {
      startGame();
    }

    function toggleDark() {
      document.body.classList.toggle('dark');
    }

    diffSel.addEventListener('change', () => {
      loadList();
      loadParagraph();
    });

    window.onload = startGame;
  </script>

</body>
</html>
